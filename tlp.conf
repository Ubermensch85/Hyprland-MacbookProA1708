# ------------------------------------------------------------------------------
# TLP Configuration for MacBook Pro A1708 (Hyprland, Maximum Performance)
# ------------------------------------------------------------------------------

# --------------------------
# Battery Charge Thresholds
# --------------------------
START_CHARGE_THRESH_BAT0=75
STOP_CHARGE_THRESH_BAT0=80

# --------------------------
# CPU Settings (Intel i5)
# --------------------------
CPU_SCALING_GOVERNOR_ON_AC=performance
CPU_SCALING_GOVERNOR_ON_BAT=powersave
CPU_ENERGY_PERF_POLICY_ON_AC=performance
CPU_ENERGY_PERF_POLICY_ON_BAT=balance_power
CPU_MIN_PERF_ON_AC=0
CPU_MAX_PERF_ON_AC=100
CPU_MIN_PERF_ON_BAT=0
CPU_MAX_PERF_ON_BAT=70

# --------------------------
# GPU Settings (Intel HD Graphics)
# --------------------------
INTEL_GPU_MIN_FREQ_ON_AC=300
INTEL_GPU_MAX_FREQ_ON_AC=1050
INTEL_GPU_BOOST_FREQ_ON_AC=1050
INTEL_GPU_MIN_FREQ_ON_BAT=300
INTEL_GPU_MAX_FREQ_ON_BAT=750

# --------------------------
# Disk/SSD Settings (128GB SSD)
# --------------------------
DISK_DEVICES="nvme0n1"
DISK_APM_LEVEL_ON_AC="254"
DISK_APM_LEVEL_ON_BAT="128"
SATA_LINKPWR_ON_AC=max_performance
SATA_LINKPWR_ON_BAT=med_power_with_dipm

# --------------------------
# Wi-Fi (Broadcom BCM4350)
# --------------------------
WIFI_PWR_ON_AC=off
WIFI_PWR_ON_BAT=on

# --------------------------
# PCIe Active State Power Management
# --------------------------
PCIE_ASPM_ON_AC=performance
PCIE_ASPM_ON_BAT=powersupersave

# --------------------------
# Radio Devices
# --------------------------
RUNTIME_PM_ON_AC=on
RUNTIME_PM_ON_BAT=auto
RUNTIME_PM_BLACKLIST="wlan0"

# --------------------------
# USB Autosuspend
# --------------------------
USB_AUTOSUSPEND=1
USB_BLACKLIST=""

# --------------------------
# Audio Power Saving
# --------------------------
SOUND_POWER_SAVE_ON_AC=0
SOUND_POWER_SAVE_ON_BAT=1

# --------------------------
# Platform Profile
# --------------------------
PLATFORM_PROFILE_ON_AC=performance
PLATFORM_PROFILE_ON_BAT=balanced

# --------------------------
# NMI Watchdog
# --------------------------
NMI_WATCHDOG=0

# --------------------------
# Debugging
# --------------------------
TLP_DEBUG="bat disk"
